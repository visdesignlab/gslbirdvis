(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Se(t,e){}window.plot_map=Le;window.plot_pixels=Re;window.updateData=Se;function Le(t,e){const n=document.getElementById(e),r=t.getContext("2d");t.width=n.offsetWidth,t.height=n.offsetHeight-100;const i=d3.select("body").append("div").style("position","absolute").style("background","white").style("padding","5px 10px").style("border","1px solid black").style("border-radius","5px").style("font-size","14px").style("pointer-events","none").style("opacity",0);Promise.all([d3.json("birds/map_geojsons/us_states.geojson"),d3.json("birds/map_geojsons/states.geojson")]).then(([o,s])=>{const a={type:"FeatureCollection",features:o.features.concat(s.features)},c=d3.geoAlbers().fitSize([t.width,t.height],a),u=d3.geoPath().projection(c);r.clearRect(0,0,t.width,t.height),r.fillStyle="white",r.strokeStyle="black",r.lineWidth=1,a.features.forEach(y=>{const x=u(y);r.beginPath();const _=new Path2D(x);r.fill(_),r.stroke(_)});const l=[-112.2146,40.7],[f,p]=c(l);r.font="30px sans-serif",r.fillStyle="gold",r.textAlign="center",r.textBaseline="middle",r.fillText("★",f,p),t.addEventListener("mousemove",function(y){const x=d3.pointer(y);Math.sqrt(Math.pow(x[0]-f,2)+Math.pow(x[1]-p,2))<15?i.style("opacity",1).html("Great Salt Lake!").style("left",y.pageX+10+"px").style("top",y.pageY-20+"px"):i.style("opacity",0)})}).catch(o=>{console.error("Error loading map background files: ",o)})}function Re(t,e,n,r,i,o,s,a,c,u,l,f){const p=document.getElementById(n);p.style.justifyContent="",d3.select("#great-salt-lake-star").style("visibility","hidden");const y=document.getElementById(r),x=document.getElementById(o),_=document.getElementById(a),d=t.getContext("2d");t.width=p.offsetWidth,t.height=p.offsetHeight-y.offsetHeight-25;let v=null,h=null;function m(){d.fillStyle="white",d.strokeStyle="black",d.lineWidth=1,d.globalAlpha=1,h=d3.geoAlbers().fitSize([t.width,t.height],v);const k=d3.geoPath().projection(h);v&&v.features.forEach(w=>{const I=k(w);d.beginPath();const $=new Path2D(I);d.fill($),d.stroke($)})}Promise.all([d3.json("/birds/map_geojsons/us_states.geojson"),d3.json("/birds/map_geojsons/states.geojson")]).then(([k,w])=>{v={type:"FeatureCollection",features:k.features.concat(w.features)},d3.select("#great-salt-lake-star").style("visibility","hidden"),d.clearRect(0,0,t.width,t.height),m()}).catch(k=>{console.error("Error loading map background files: ",k)});const E=document.getElementById(i),b=document.getElementById(s),A=document.getElementById(c),N=document.getElementById(u),B=["January","February","March","April","May","June","July","August","September","October","November","December"],M=d3.select(f);M.select("circle").empty()&&M.append("circle").attr("r",10).attr("cx",15).attr("cy",15).attr("fill","lightgray").attr("stroke","black"),M.select("text").empty()&&M.append("text").attr("x",11).attr("y",19).attr("font-size","14px").attr("font-weight","bold").attr("fill","black").text("?"),d3.select("body").select(".info-tooltip").empty()&&d3.select("body").append("div").attr("class","info-tooltip").style("position","absolute").style("background","white").style("border","1px solid black").style("padding","5px").style("border-radius","3px").style("box-shadow","1px 1px 3px rgba(0,0,0,0.3)").style("font-size","10px").style("max-width","200px").style("display","none").html("<strong>What does this map show?</strong><br>This map visualizes bird observations over the past 20 years, animating each month to reveal the migration and movement dynamics of the chosen species. The animation is powered by observation data from eBird, a global citizen science platform that collects bird sightings from volunteers. <br><br> While the data shows an overall increase in observations over time, this trend is influenced by the growing number of birders contributing to eBird rather than a direct reflection of rising bird populations. As you continue through this story, we’ll explore what’s truly happening between seasons and how climate and habitat changes are shaping these migratory patterns. <br><br> Once the animation concludes, you can update the data to reflect your own curiosity—allowing you to explore different time periods or patterns that stand out to you.");const L=d3.select(".info-tooltip");M.on("mouseover",function(k){L.style("left",`${k.pageX-200}px`).style("top",`${k.pageY-400}px`).style("display","block")}),M.on("mouseout",function(){L.style("display","none")});const C=2004,R=2023;x.min=C,x.max=R,x.value=C,x.disabled=!0,_.min=0,_.max=11,_.step=1,_.value=0,_.disabled=!0;function O(){const k=x.value,w=_.value;E.textContent=`${k}`,b.textContent=B[w]}for(let k=C;k<=R;k++){const w=document.createElement("div");w.style.position="absolute",w.style.left=`calc(${(k-C)/(R-C)*100}% - 0.5px)`,w.style.height="10px",w.style.width="2px",w.style.backgroundColor="black";const I=document.createElement("span");I.textContent=k,I.style.position="absolute",I.style.top="15px",I.style.right="-12px",I.style.fontSize="10px",I.style.color="black",w.appendChild(I),A.appendChild(w)}for(let k=0;k<12;k++){const w=document.createElement("div");w.style.position="absolute",w.style.left=`${k/12*100}%`,w.style.height="10px",w.style.width="2px",w.style.backgroundColor="black";const I=document.createElement("span");I.textContent=B[k],I.style.position="absolute",I.style.top="15px",I.style.right="-12px",I.style.fontSize="10px",I.style.color="black",w.appendChild(I),N.appendChild(w)}O();function z(k,w){E.textContent=`${k}`,b.textContent=B[w];const I=String(w+1).padStart(2,"0"),$=`${k}-${I}`;let T={};Promise.all([d3.json(e[$].MX).then(g=>{T[$]=T[$]||{},T[$].MX=g.features}),d3.json(e[$].UT).then(g=>{T[$]=T[$]||{},T[$].UT=g.features}),d3.json(e[$].AZ).then(g=>{T[$]=T[$]||{},T[$].AZ=g.features})]).then(()=>{const g=T[$]||{},S=g.MX||[],P=g.UT||[],D=g.AZ||[];d3.select("#great-salt-lake-star").style("visibility","hidden"),d.clearRect(0,0,t.width,t.height),m(),d.globalAlpha=.1,Array.isArray(S)&&S.forEach(X=>{const[V,U]=h(X.geometry.coordinates);d.beginPath(),d.arc(V,U,1.5,0,2*Math.PI),d.fillStyle="blue",d.fill(),d.globalAlpha=.1}),Array.isArray(P)&&P.forEach(X=>{const[V,U]=h(X.geometry.coordinates);d.beginPath(),d.arc(V,U,1.5,0,2*Math.PI),d.fillStyle="blue",d.fill(),d.globalAlpha=.1}),Array.isArray(D)&&D.forEach(X=>{const[V,U]=h(X.geometry.coordinates);d.beginPath(),d.arc(V,U,1.5,0,2*Math.PI),d.fillStyle="blue",d.fill(),d.globalAlpha=.1}),d.globalAlpha=.1}).catch(g=>console.error("Error loading JSON data:",g))}it(l),document.getElementById("map_button").addEventListener("click",function(){it(l)});function it(k){clearTimeout(k.timeoutId);let w=C,I=0;const $=35;let T=!1;x.disabled=!0,_.disabled=!0,x.style.opacity=.5,_.style.opacity=.5,k.animationRunning=!0,x.addEventListener("input",()=>{T=!0,O(),z(parseInt(x.value),parseInt(_.value))}),_.addEventListener("input",()=>{T=!0,O(),z(parseInt(x.value),parseInt(_.value))});function g(){T||!k.animationRunning||(z(w,I),x.value=w,_.value=I,I+=2,I===12&&(I=0,w++),w<=R?k.timeoutId=setTimeout(g,$):(k.animationRunning=!1,x.disabled=!1,_.disabled=!1,x.style.opacity=1,_.style.opacity=1))}k.timeoutId=setTimeout(g,$)}return{updateData:z,animationState:l}}window.climate_map=Oe;function Oe(t,e,n){const s=d3.select(t);a(900,900,80,s);async function a(c,u,l,f){const x=(await(await fetch("/birds/climate_data/oni_data.txt")).text()).trim().split(`
`),_=[];x.forEach(g=>{const S=g.trim().split(/\s+/),P=+S.shift();S.forEach((D,X)=>{_.push({date:new Date(P,X),value:parseFloat(D)})})});const h=(await(await fetch("/birds/climate_data/sst_data.txt")).text()).trim().split(`
`),m=[];h.forEach(g=>{const S=g.trim().split(/\s+/),P=parseInt(S[0]),D=parseInt(S[1]),X=parseFloat(S[5]);P>=2004&&P<=2024&&D===1&&m.push({date:new Date(P,0),value:X})});const E=d3.scaleTime().domain(d3.extent(_,g=>g.date)).range([l,c-l]),b=d3.scaleLinear().domain([d3.min(_,g=>g.value),d3.max(_,g=>g.value)]).range([u-l,l]),A=d3.scaleLinear().domain([d3.min(m,g=>g.value),d3.max(m,g=>g.value)]).range([u-l,l]),N=d3.line().x(g=>E(g.date)).y(g=>b(g.value)).curve(d3.curveMonotoneX),B=d3.line().x(g=>E(g.date)).y(g=>A(g.value)).curve(d3.curveMonotoneX),M=d3.area().x(g=>E(g.date)).y0(g=>b(0)).y1(g=>b(g.value)).curve(d3.curveMonotoneX),L=d3.max([..._,...m],g=>Math.abs(g.value)),C=f.append("defs"),R=C.append("linearGradient").attr("id","oniGradient").attr("gradientUnits","userSpaceOnUse").attr("x1","0%").attr("x2","0%").attr("y1",b(L)).attr("y2",b(-L));R.append("stop").attr("offset","0%").attr("stop-color",d3.interpolateReds(1)),R.append("stop").attr("offset","50%").attr("stop-color",d3.interpolateBlues(.1)),R.append("stop").attr("offset","100%").attr("stop-color",d3.interpolateBlues(1)),f.append("path").datum(_).attr("fill","url(#oniGradient)").attr("d",M).on("mousemove",I).on("mouseleave",$).on("click",T),f.append("path").datum(m).attr("fill","none").attr("stroke","orange").attr("stroke-width",4).attr("d",B).style("pointer-events","visibleStroke").on("mousemove",I).on("mouseleave",$).on("click",T),f.append("path").datum(_).attr("fill","none").attr("stroke","black").attr("stroke-width",2).attr("d",N).style("pointer-events","visibleStroke").on("mousemove",I).on("mouseleave",$).on("click",T),f.append("line").attr("x1",l).attr("x2",c-l).attr("y1",b(0)).attr("y2",b(0)).attr("stroke","gray").attr("stroke-width",1).attr("stroke-dasharray","4 2"),f.append("g").attr("transform",`translate(0,${u-l})`).call(d3.axisBottom(E).ticks(10)),f.append("g").attr("transform",`translate(${l},0)`).call(d3.axisLeft(b)),f.append("g").attr("transform",`translate(${c-l},0)`).attr("class","sst-axis").call(d3.axisRight(A)),f.append("text").attr("x",c/2).attr("y",l/2).attr("text-anchor","middle").style("font-size","24px").style("font-weight","bold").text("ONI Index & NINO3 January Temperatures"),f.append("text").attr("x",c/2).attr("y",u-l/3).attr("text-anchor","middle").style("font-size","20px").text("Year"),f.append("text").attr("transform","rotate(-90)").attr("x",-900/2).attr("y",l/3).attr("text-anchor","middle").style("font-size","20px").text("ONI Index"),f.append("text").attr("transform","rotate(-90)").attr("x",-900/2).attr("y",c-l/3).attr("text-anchor","middle").style("font-size","20px").text("Nino3 Temperature Index"),f.append("line").attr("x1",c-l).attr("x2",c-l).attr("y1",l).attr("y2",u-l).attr("stroke","black").attr("stroke-width",1);const O=f.append("g").attr("transform",`translate(${c-l-40}, ${l-60})`).style("cursor","pointer");O.append("circle").attr("r",20).attr("fill","lightgray").attr("stroke","black"),O.append("text").attr("x",-5).attr("y",6).attr("font-size","24px").attr("font-weight","bold").attr("fill","black").text("?");const z=d3.select("body").append("div").style("position","absolute").style("background","white").style("border","1px solid black").style("padding","5px").style("border-radius","3px").style("box-shadow","1px 1px 3px rgba(0,0,0,0.3)").style("font-size","10px").style("max-width","250px").style("display","none").html("<strong>What does this graph show?</strong><br>This graph displays the ONI Index, along with the NINO3 temperature variations over time, taken from January of each year.<br><br> The ONI index is a primary indicator for monitoring El Niño and La Niña. The ONI Index is calculated by averaging the difference between the current sea surface temperature and the long-term average sea surface temperature. <br><br> The Nino3 temperature index measures sea surface temperature anomalies in the eastern Pacific Ocean (where Mexico lies). Understanding the change in sea surface temperature helps further explain the intensity of an El Niño and/or La Niña event. <br><br> This graph syncs with the observation map and updates as you explore different climate events. ");O.on("mouseover",function(g){z.style("left",`${g.pageX+10}px`).style("top",`${g.pageY-25}px`).style("display","block")}),O.on("mouseout",function(){z.style("display","none")});const it=f.append("g").attr("transform",`translate(${l+20}, ${l-20})`);it.append("circle").attr("cx",10).attr("cy",10).attr("r",6).attr("fill","orange"),it.append("text").attr("x",20).attr("y",14).style("font-size","14px").attr("fill","black").text("NINO3 Temperature"),k(f,C);function k(g,S){const U=S.append("linearGradient").attr("id","legendGradient").attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%");U.append("stop").attr("offset","0%").attr("stop-color",d3.interpolateReds(1)),U.append("stop").attr("offset","50%").attr("stop-color",d3.interpolateReds(0)),U.append("stop").attr("offset","100%").attr("stop-color",d3.interpolateBlues(1)),g.append("rect").attr("x",750).attr("y",80).attr("width",20).attr("height",200).style("fill","url(#legendGradient)"),g.append("text").attr("x",750+20/2).attr("y",70).style("font-size","12px").style("text-anchor","middle").text("Strong El Niño"),g.append("text").attr("x",750+20/2).attr("y",300).style("font-size","12px").style("text-anchor","middle").text("Strong La Niña")}const w=d3.select("body").append("div").attr("id","graph-hover-tip").style("position","absolute").style("background","rgba(0, 0, 0, 0.7)").style("color","#fff").style("padding","6px 10px").style("border-radius","4px").style("pointer-events","none").style("font-size","12px").style("display","none").text("Click to select a month");function I(g){const[S,P]=d3.pointer(g);if(S>=l&&S<=c-l&&P>=l&&P<=u-l){const{animationState:D}=window.pelicanUpdateController,X=D.animationRunning?"Wait for animation to finish":"Click to update data";w.text(X).style("left",`${g.pageX+10}px`).style("top",`${g.pageY-20}px`).style("display","block")}else w.style("display","none")}function $(){w.style("display","none")}function T(g){const[S,P]=d3.pointer(g);if(S<l||S>c-l||P<l||P>u-l)return;const D=E.invert(S),X=D.getFullYear(),V=D.getMonth(),{updateData:U,animationState:Te}=window.pelicanUpdateController;Te.animationRunning||(document.getElementById(e).value=X,document.getElementById(n).value=V,U(X,V))}}}window.plot_gsl_elevation=Pe;function Pe(t,e,n){const r=d3.select(t);async function i(){const s=(await d3.text("/birds/climate_data/processed_gsl_elevation_data.txt")).trim().split(`
`).map(h=>{const[m,E]=h.split("	").map(b=>+b);return{year:m,value:E}}),a={top:60,right:30,bottom:60,left:80},c=600-a.left-a.right,u=300-a.top-a.bottom,l=d3.scaleLinear().domain(d3.extent(s,h=>h.year)).range([0,c]),f=d3.scaleLinear().domain([d3.min(s,h=>h.value)-1,d3.max(s,h=>h.value)+1]).range([u,0]),p=r.attr("viewBox",`0 0 ${c+a.left+a.right} ${u+a.top+a.bottom}`).append("g").attr("transform",`translate(${a.left},${a.top})`);p.append("g").attr("transform",`translate(0,${u})`).call(d3.axisBottom(l).tickFormat(d3.format("d"))),p.append("text").attr("x",c/2).attr("y",u+45).attr("text-anchor","middle").style("font-size","14px").text("Year"),p.append("g").call(d3.axisLeft(f)),p.append("text").attr("transform","rotate(-90)").attr("x",-180/2).attr("y",-60).attr("text-anchor","middle").style("font-size","14px").text("Elevation (ft)"),p.append("text").attr("x",c/2).attr("y",-30).attr("text-anchor","middle").style("font-size","18px").style("font-weight","bold").text("GSL Elevation Over Time");const y=d3.line().x(h=>l(h.year)).y(h=>f(h.value)).curve(d3.curveMonotoneX);p.append("path").datum(s).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("d",y);const x=p.append("circle").attr("r",4).attr("fill","red").style("display","none");r.on("mousemove",function(h){const[m]=d3.pointer(h),E=m-a.left;if(E<0||E>l.range()[1]){x.style("display","none");return}const b=l.invert(E);let A=0;for(;A<s.length-1&&s[A+1].year<b;)A++;const N=s[A],B=s[A+1];if(!N||!B){x.style("display","none");return}const M=(b-N.year)/(B.year-N.year),L=N.value+M*(B.value-N.value),C=l(b),R=f(L);x.attr("cx",C).attr("cy",R).style("display","block")});const _=d3.select("body").append("div").attr("id","graph-hover-tip").style("position","absolute").style("background","rgba(0, 0, 0, 0.7)").style("color","#fff").style("padding","6px 10px").style("border-radius","4px").style("pointer-events","none").style("font-size","12px").style("display","none");p.on("mousemove",function(h){const[m,E]=d3.pointer(h);if(m>=l.range()[0]&&m<=l.range()[1]){const{animationState:b}=window.pelicanUpdateController,A=b.animationRunning?"Wait for animation to finish":"Click to update data";_.text(A).style("left",`${h.pageX+10}px`).style("top",`${h.pageY-20}px`).style("display","block")}else _.style("display","none")}).on("mouseleave",function(){_.style("display","none")}).on("click",function(h){const[m,E]=d3.pointer(h);if(m<l.range()[0]||m>l.range()[1])return;const b=l.invert(m),A=Math.floor(b),N=Math.floor(b%1*12),{updateData:B,animationState:M}=window.pelicanUpdateController;M.animationRunning||(document.getElementById(e).value=A,document.getElementById(n).value=N,B(A,N))});const d=r.append("g").attr("transform",`translate(${c+a.left-10}, ${a.top-30})`).style("cursor","pointer");d.append("circle").attr("r",10).attr("fill","lightgray").attr("stroke","black"),d.append("text").attr("x",-5).attr("y",6).attr("font-size","19px").attr("font-weight","bold").attr("fill","black").text("?");const v=d3.select("body").append("div").style("position","absolute").style("background","white").style("border","1px solid black").style("padding","5px").style("border-radius","3px").style("box-shadow","1px 1px 3px rgba(0,0,0,0.3)").style("font-size","10px").style("max-width","200px").style("display","none").html("<strong>What does this graph show?</strong><br>This graph displays changes in elevation at the Great Salt Lake over time.<br><br> This graph syncs with the observation map and updates as you explore different elevation levels.");d.on("mouseover",function(h){v.style("left",`${h.pageX+10}px`).style("top",`${h.pageY+10}px`).style("display","block")}),d.on("mouseout",function(){v.style("display","none")})}i()}var Xe={value:()=>{}};function ae(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new _t(n)}function _t(t){this._=t}function Ye(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}_t.prototype=ae.prototype={constructor:_t,on:function(t,e){var n=this._,r=Ye(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=ze(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Ht(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ht(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new _t(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function ze(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ht(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Xe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Tt="http://www.w3.org/1999/xhtml";const Gt={svg:"http://www.w3.org/2000/svg",xhtml:Tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $t(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Gt.hasOwnProperty(e)?{space:Gt[e],local:t}:t}function De(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Tt&&e.documentElement.namespaceURI===Tt?e.createElement(t):e.createElementNS(n,t)}}function Fe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function le(t){var e=$t(t);return(e.local?Fe:De)(e)}function Ue(){}function Yt(t){return t==null?Ue:function(){return this.querySelector(t)}}function qe(t){typeof t!="function"&&(t=Yt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),c,u,l=0;l<s;++l)(c=o[l])&&(u=t.call(c,c.__data__,l,o))&&("__data__"in c&&(u.__data__=c.__data__),a[l]=u);return new F(r,this._parents)}function He(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ge(){return[]}function ce(t){return t==null?Ge:function(){return this.querySelectorAll(t)}}function We(t){return function(){return He(t.apply(this,arguments))}}function Ve(t){typeof t=="function"?t=We(t):t=ce(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&(r.push(t.call(c,c.__data__,u,s)),i.push(c));return new F(r,i)}function ue(t){return function(){return this.matches(t)}}function fe(t){return function(e){return e.matches(t)}}var je=Array.prototype.find;function Ze(t){return function(){return je.call(this.children,t)}}function Je(){return this.firstElementChild}function Ke(t){return this.select(t==null?Je:Ze(typeof t=="function"?t:fe(t)))}var Qe=Array.prototype.filter;function tn(){return Array.from(this.children)}function en(t){return function(){return Qe.call(this.children,t)}}function nn(t){return this.selectAll(t==null?tn:en(typeof t=="function"?t:fe(t)))}function rn(t){typeof t!="function"&&(t=ue(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&a.push(c);return new F(r,this._parents)}function de(t){return new Array(t.length)}function on(){return new F(this._enter||this._groups.map(de),this._parents)}function bt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}bt.prototype={constructor:bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function sn(t){return function(){return t}}function an(t,e,n,r,i,o){for(var s=0,a,c=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new bt(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function ln(t,e,n,r,i,o,s){var a,c,u=new Map,l=e.length,f=o.length,p=new Array(l),y;for(a=0;a<l;++a)(c=e[a])&&(p[a]=y=s.call(c,c.__data__,a,e)+"",u.has(y)?i[a]=c:u.set(y,c));for(a=0;a<f;++a)y=s.call(t,o[a],a,o)+"",(c=u.get(y))?(r[a]=c,c.__data__=o[a],u.delete(y)):n[a]=new bt(t,o[a]);for(a=0;a<l;++a)(c=e[a])&&u.get(p[a])===c&&(i[a]=c)}function cn(t){return t.__data__}function un(t,e){if(!arguments.length)return Array.from(this,cn);var n=e?ln:an,r=this._parents,i=this._groups;typeof t!="function"&&(t=sn(t));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var l=r[u],f=i[u],p=f.length,y=fn(t.call(l,l&&l.__data__,u,r)),x=y.length,_=a[u]=new Array(x),d=s[u]=new Array(x),v=c[u]=new Array(p);n(l,f,_,d,v,y,e);for(var h=0,m=0,E,b;h<x;++h)if(E=_[h]){for(h>=m&&(m=h+1);!(b=d[m])&&++m<x;);E._next=b||null}}return s=new F(s,r),s._enter=a,s._exit=c,s}function fn(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function dn(){return new F(this._exit||this._groups.map(de),this._parents)}function pn(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function hn(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var u=n[c],l=r[c],f=u.length,p=a[c]=new Array(f),y,x=0;x<f;++x)(y=u[x]||l[x])&&(p[x]=y);for(;c<i;++c)a[c]=n[c];return new F(a,this._parents)}function yn(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function gn(t){t||(t=mn);function e(f,p){return f&&p?t(f.__data__,p.__data__):!f-!p}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,c=i[o]=new Array(a),u,l=0;l<a;++l)(u=s[l])&&(c[l]=u);c.sort(e)}return new F(i,this._parents).order()}function mn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _n(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function xn(){return Array.from(this)}function vn(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function bn(){let t=0;for(const e of this)++t;return t}function wn(){return!this.node()}function kn(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function En(t){return function(){this.removeAttribute(t)}}function In(t){return function(){this.removeAttributeNS(t.space,t.local)}}function An(t,e){return function(){this.setAttribute(t,e)}}function $n(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Nn(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Bn(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Cn(t,e){var n=$t(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?In:En:typeof e=="function"?n.local?Bn:Nn:n.local?$n:An)(n,e))}function pe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Mn(t){return function(){this.style.removeProperty(t)}}function Tn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Sn(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ln(t,e,n){return arguments.length>1?this.each((e==null?Mn:typeof e=="function"?Sn:Tn)(t,e,n??"")):nt(this.node(),t)}function nt(t,e){return t.style.getPropertyValue(e)||pe(t).getComputedStyle(t,null).getPropertyValue(e)}function Rn(t){return function(){delete this[t]}}function On(t,e){return function(){this[t]=e}}function Pn(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Xn(t,e){return arguments.length>1?this.each((e==null?Rn:typeof e=="function"?Pn:On)(t,e)):this.node()[t]}function he(t){return t.trim().split(/^|\s+/)}function zt(t){return t.classList||new ye(t)}function ye(t){this._node=t,this._names=he(t.getAttribute("class")||"")}ye.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ge(t,e){for(var n=zt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function me(t,e){for(var n=zt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Yn(t){return function(){ge(this,t)}}function zn(t){return function(){me(this,t)}}function Dn(t,e){return function(){(e.apply(this,arguments)?ge:me)(this,t)}}function Fn(t,e){var n=he(t+"");if(arguments.length<2){for(var r=zt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Dn:e?Yn:zn)(n,e))}function Un(){this.textContent=""}function qn(t){return function(){this.textContent=t}}function Hn(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Gn(t){return arguments.length?this.each(t==null?Un:(typeof t=="function"?Hn:qn)(t)):this.node().textContent}function Wn(){this.innerHTML=""}function Vn(t){return function(){this.innerHTML=t}}function jn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Zn(t){return arguments.length?this.each(t==null?Wn:(typeof t=="function"?jn:Vn)(t)):this.node().innerHTML}function Jn(){this.nextSibling&&this.parentNode.appendChild(this)}function Kn(){return this.each(Jn)}function Qn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function tr(){return this.each(Qn)}function er(t){var e=typeof t=="function"?t:le(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function nr(){return null}function rr(t,e){var n=typeof t=="function"?t:le(t),r=e==null?nr:typeof e=="function"?e:Yt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ir(){var t=this.parentNode;t&&t.removeChild(this)}function or(){return this.each(ir)}function sr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ar(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function lr(t){return this.select(t?ar:sr)}function cr(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ur(t){return function(e){t.call(this,e,this.__data__)}}function fr(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function dr(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function pr(t,e,n){return function(){var r=this.__on,i,o=ur(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function hr(t,e,n){var r=fr(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,l;c<u;++c)for(i=0,l=a[c];i<o;++i)if((s=r[i]).type===l.type&&s.name===l.name)return l.value}return}for(a=e?pr:dr,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function _e(t,e,n){var r=pe(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function yr(t,e){return function(){return _e(this,t,e)}}function gr(t,e){return function(){return _e(this,t,e.apply(this,arguments))}}function mr(t,e){return this.each((typeof e=="function"?gr:yr)(t,e))}function*_r(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var xr=[null];function F(t,e){this._groups=t,this._parents=e}function pt(){return new F([[document.documentElement]],xr)}function vr(){return this}F.prototype=pt.prototype={constructor:F,select:qe,selectAll:Ve,selectChild:Ke,selectChildren:nn,filter:rn,data:un,enter:on,exit:dn,join:pn,merge:hn,selection:vr,order:yn,sort:gn,call:_n,nodes:xn,node:vn,size:bn,empty:wn,each:kn,attr:Cn,style:Ln,property:Xn,classed:Fn,text:Gn,html:Zn,raise:Kn,lower:tr,append:er,insert:rr,remove:or,clone:lr,datum:cr,on:hr,dispatch:mr,[Symbol.iterator]:_r};function br(t){return new F([[document.querySelector(t)]],[document.documentElement])}function Dt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xe(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ht(){}var ct=.7,wt=1/ct,et="\\s*([+-]?\\d+)\\s*",ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",G="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wr=/^#([0-9a-f]{3,8})$/,kr=new RegExp(`^rgb\\(${et},${et},${et}\\)$`),Er=new RegExp(`^rgb\\(${G},${G},${G}\\)$`),Ir=new RegExp(`^rgba\\(${et},${et},${et},${ut}\\)$`),Ar=new RegExp(`^rgba\\(${G},${G},${G},${ut}\\)$`),$r=new RegExp(`^hsl\\(${ut},${G},${G}\\)$`),Nr=new RegExp(`^hsla\\(${ut},${G},${G},${ut}\\)$`),Wt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dt(ht,ft,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Vt,formatHex:Vt,formatHex8:Br,formatHsl:Cr,formatRgb:jt,toString:jt});function Vt(){return this.rgb().formatHex()}function Br(){return this.rgb().formatHex8()}function Cr(){return ve(this).formatHsl()}function jt(){return this.rgb().formatRgb()}function ft(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Zt(e):n===3?new Y(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?yt(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?yt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=kr.exec(t))?new Y(e[1],e[2],e[3],1):(e=Er.exec(t))?new Y(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ir.exec(t))?yt(e[1],e[2],e[3],e[4]):(e=Ar.exec(t))?yt(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$r.exec(t))?Qt(e[1],e[2]/100,e[3]/100,1):(e=Nr.exec(t))?Qt(e[1],e[2]/100,e[3]/100,e[4]):Wt.hasOwnProperty(t)?Zt(Wt[t]):t==="transparent"?new Y(NaN,NaN,NaN,0):null}function Zt(t){return new Y(t>>16&255,t>>8&255,t&255,1)}function yt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Y(t,e,n,r)}function Mr(t){return t instanceof ht||(t=ft(t)),t?(t=t.rgb(),new Y(t.r,t.g,t.b,t.opacity)):new Y}function St(t,e,n,r){return arguments.length===1?Mr(t):new Y(t,e,n,r??1)}function Y(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Dt(Y,St,xe(ht,{brighter(t){return t=t==null?wt:Math.pow(wt,t),new Y(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ct:Math.pow(ct,t),new Y(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Y(Q(this.r),Q(this.g),Q(this.b),kt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jt,formatHex:Jt,formatHex8:Tr,formatRgb:Kt,toString:Kt}));function Jt(){return`#${K(this.r)}${K(this.g)}${K(this.b)}`}function Tr(){return`#${K(this.r)}${K(this.g)}${K(this.b)}${K((isNaN(this.opacity)?1:this.opacity)*255)}`}function Kt(){const t=kt(this.opacity);return`${t===1?"rgb(":"rgba("}${Q(this.r)}, ${Q(this.g)}, ${Q(this.b)}${t===1?")":`, ${t})`}`}function kt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Q(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function K(t){return t=Q(t),(t<16?"0":"")+t.toString(16)}function Qt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new q(t,e,n,r)}function ve(t){if(t instanceof q)return new q(t.h,t.s,t.l,t.opacity);if(t instanceof ht||(t=ft(t)),!t)return new q;if(t instanceof q)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new q(s,a,c,t.opacity)}function Sr(t,e,n,r){return arguments.length===1?ve(t):new q(t,e,n,r??1)}function q(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Dt(q,Sr,xe(ht,{brighter(t){return t=t==null?wt:Math.pow(wt,t),new q(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ct:Math.pow(ct,t),new q(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Y(Ct(t>=240?t-240:t+120,i,r),Ct(t,i,r),Ct(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new q(te(this.h),gt(this.s),gt(this.l),kt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=kt(this.opacity);return`${t===1?"hsl(":"hsla("}${te(this.h)}, ${gt(this.s)*100}%, ${gt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function te(t){return t=(t||0)%360,t<0?t+360:t}function gt(t){return Math.max(0,Math.min(1,t||0))}function Ct(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const be=t=>()=>t;function Lr(t,e){return function(n){return t+n*e}}function Rr(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Or(t){return(t=+t)==1?we:function(e,n){return n-e?Rr(e,n,t):be(isNaN(e)?n:e)}}function we(t,e){var n=e-t;return n?Lr(t,n):be(isNaN(t)?e:t)}const ee=function t(e){var n=Or(e);function r(i,o){var s=n((i=St(i)).r,(o=St(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),u=we(i.opacity,o.opacity);return function(l){return i.r=s(l),i.g=a(l),i.b=c(l),i.opacity=u(l),i+""}}return r.gamma=t,r}(1);function J(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Lt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mt=new RegExp(Lt.source,"g");function Pr(t){return function(){return t}}function Xr(t){return function(e){return t(e)+""}}function Yr(t,e){var n=Lt.lastIndex=Mt.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(t=t+"",e=e+"";(r=Lt.exec(t))&&(i=Mt.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:J(r,i)})),n=Mt.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?Xr(c[0].x):Pr(e):(e=c.length,function(u){for(var l=0,f;l<e;++l)a[(f=c[l]).i]=f.x(u);return a.join("")})}var ne=180/Math.PI,Rt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ke(t,e,n,r,i,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ne,skewX:Math.atan(c)*ne,scaleX:s,scaleY:a}}var mt;function zr(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Rt:ke(e.a,e.b,e.c,e.d,e.e,e.f)}function Dr(t){return t==null||(mt||(mt=document.createElementNS("http://www.w3.org/2000/svg","g")),mt.setAttribute("transform",t),!(t=mt.transform.baseVal.consolidate()))?Rt:(t=t.matrix,ke(t.a,t.b,t.c,t.d,t.e,t.f))}function Ee(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,l,f,p,y,x){if(u!==f||l!==p){var _=y.push("translate(",null,e,null,n);x.push({i:_-4,x:J(u,f)},{i:_-2,x:J(l,p)})}else(f||p)&&y.push("translate("+f+e+p+n)}function s(u,l,f,p){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),p.push({i:f.push(i(f)+"rotate(",null,r)-2,x:J(u,l)})):l&&f.push(i(f)+"rotate("+l+r)}function a(u,l,f,p){u!==l?p.push({i:f.push(i(f)+"skewX(",null,r)-2,x:J(u,l)}):l&&f.push(i(f)+"skewX("+l+r)}function c(u,l,f,p,y,x){if(u!==f||l!==p){var _=y.push(i(y)+"scale(",null,",",null,")");x.push({i:_-4,x:J(u,f)},{i:_-2,x:J(l,p)})}else(f!==1||p!==1)&&y.push(i(y)+"scale("+f+","+p+")")}return function(u,l){var f=[],p=[];return u=t(u),l=t(l),o(u.translateX,u.translateY,l.translateX,l.translateY,f,p),s(u.rotate,l.rotate,f,p),a(u.skewX,l.skewX,f,p),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,f,p),u=l=null,function(y){for(var x=-1,_=p.length,d;++x<_;)f[(d=p[x]).i]=d.x(y);return f.join("")}}}var Fr=Ee(zr,"px, ","px)","deg)"),Ur=Ee(Dr,", ",")",")"),rt=0,st=0,ot=0,Ie=1e3,Et,at,It=0,tt=0,Nt=0,dt=typeof performance=="object"&&performance.now?performance:Date,Ae=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ft(){return tt||(Ae(qr),tt=dt.now()+Nt)}function qr(){tt=0}function At(){this._call=this._time=this._next=null}At.prototype=$e.prototype={constructor:At,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ft():+n)+(e==null?0:+e),!this._next&&at!==this&&(at?at._next=this:Et=this,at=this),this._call=t,this._time=n,Ot()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ot())}};function $e(t,e,n){var r=new At;return r.restart(t,e,n),r}function Hr(){Ft(),++rt;for(var t=Et,e;t;)(e=tt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--rt}function re(){tt=(It=dt.now())+Nt,rt=st=0;try{Hr()}finally{rt=0,Wr(),tt=0}}function Gr(){var t=dt.now(),e=t-It;e>Ie&&(Nt-=e,It=t)}function Wr(){for(var t,e=Et,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Et=n);at=t,Ot(r)}function Ot(t){if(!rt){st&&(st=clearTimeout(st));var e=t-tt;e>24?(t<1/0&&(st=setTimeout(re,t-dt.now()-Nt)),ot&&(ot=clearInterval(ot))):(ot||(It=dt.now(),ot=setInterval(Gr,Ie)),rt=1,Ae(re))}}function ie(t,e,n){var r=new At;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Vr=ae("start","end","cancel","interrupt"),jr=[],Ne=0,oe=1,Pt=2,xt=3,se=4,Xt=5,vt=6;function Bt(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Zr(t,n,{name:e,index:r,group:i,on:Vr,tween:jr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ne})}function Ut(t,e){var n=H(t,e);if(n.state>Ne)throw new Error("too late; already scheduled");return n}function W(t,e){var n=H(t,e);if(n.state>xt)throw new Error("too late; already running");return n}function H(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Zr(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=$e(o,0,n.time);function o(u){n.state=oe,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var l,f,p,y;if(n.state!==oe)return c();for(l in r)if(y=r[l],y.name===n.name){if(y.state===xt)return ie(s);y.state===se?(y.state=vt,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[l]):+l<e&&(y.state=vt,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[l])}if(ie(function(){n.state===xt&&(n.state=se,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Pt,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Pt){for(n.state=xt,i=new Array(p=n.tween.length),l=0,f=-1;l<p;++l)(y=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=y);i.length=f+1}}function a(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Xt,1),f=-1,p=i.length;++f<p;)i[f].call(t,l);n.state===Xt&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=vt,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Jr(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>Pt&&r.state<Xt,r.state=vt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Kr(t){return this.each(function(){Jr(this,t)})}function Qr(t,e){var n,r;return function(){var i=W(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function ti(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=W(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=a;break}c===u&&i.push(a)}o.tween=i}}function ei(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=H(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Qr:ti)(n,t,e))}function qt(t,e,n){var r=t._id;return t.each(function(){var i=W(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return H(i,r).value[e]}}function Be(t,e){var n;return(typeof e=="number"?J:e instanceof ft?ee:(n=ft(e))?(e=n,ee):Yr)(t,e)}function ni(t){return function(){this.removeAttribute(t)}}function ri(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ii(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function oi(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function si(t,e,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a)))}}function ai(t,e,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a)))}}function li(t,e){var n=$t(t),r=n==="transform"?Ur:Be;return this.attrTween(t,typeof e=="function"?(n.local?ai:si)(n,r,qt(this,"attr."+t,e)):e==null?(n.local?ri:ni)(n):(n.local?oi:ii)(n,r,e))}function ci(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ui(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function fi(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ui(t,o)),n}return i._value=e,i}function di(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ci(t,o)),n}return i._value=e,i}function pi(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=$t(t);return this.tween(n,(r.local?fi:di)(r,e))}function hi(t,e){return function(){Ut(this,t).delay=+e.apply(this,arguments)}}function yi(t,e){return e=+e,function(){Ut(this,t).delay=e}}function gi(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?hi:yi)(e,t)):H(this.node(),e).delay}function mi(t,e){return function(){W(this,t).duration=+e.apply(this,arguments)}}function _i(t,e){return e=+e,function(){W(this,t).duration=e}}function xi(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?mi:_i)(e,t)):H(this.node(),e).duration}function vi(t,e){if(typeof e!="function")throw new Error;return function(){W(this,t).ease=e}}function bi(t){var e=this._id;return arguments.length?this.each(vi(e,t)):H(this.node(),e).ease}function wi(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;W(this,t).ease=n}}function ki(t){if(typeof t!="function")throw new Error;return this.each(wi(this._id,t))}function Ei(t){typeof t!="function"&&(t=ue(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&a.push(c);return new Z(r,this._parents,this._name,this._id)}function Ii(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var c=e[a],u=n[a],l=c.length,f=s[a]=new Array(l),p,y=0;y<l;++y)(p=c[y]||u[y])&&(f[y]=p);for(;a<r;++a)s[a]=e[a];return new Z(s,this._parents,this._name,this._id)}function Ai(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function $i(t,e,n){var r,i,o=Ai(e)?Ut:W;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function Ni(t,e){var n=this._id;return arguments.length<2?H(this.node(),n).on.on(t):this.each($i(n,t,e))}function Bi(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ci(){return this.on("end.remove",Bi(this._id))}function Mi(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Yt(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],c=a.length,u=o[s]=new Array(c),l,f,p=0;p<c;++p)(l=a[p])&&(f=t.call(l,l.__data__,p,a))&&("__data__"in l&&(f.__data__=l.__data__),u[p]=f,Bt(u[p],e,n,p,u,H(l,n)));return new Z(o,this._parents,e,n)}function Ti(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ce(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c=r[a],u=c.length,l,f=0;f<u;++f)if(l=c[f]){for(var p=t.call(l,l.__data__,f,c),y,x=H(l,n),_=0,d=p.length;_<d;++_)(y=p[_])&&Bt(y,e,n,_,p,x);o.push(p),s.push(l)}return new Z(o,s,e,n)}var Si=pt.prototype.constructor;function Li(){return new Si(this._groups,this._parents)}function Ri(t,e){var n,r,i;return function(){var o=nt(this,t),s=(this.style.removeProperty(t),nt(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function Ce(t){return function(){this.style.removeProperty(t)}}function Oi(t,e,n){var r,i=n+"",o;return function(){var s=nt(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function Pi(t,e,n){var r,i,o;return function(){var s=nt(this,t),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),nt(this,t))),s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a))}}function Xi(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var c=W(this,t),u=c.on,l=c.value[o]==null?a||(a=Ce(e)):void 0;(u!==n||i!==l)&&(r=(n=u).copy()).on(s,i=l),c.on=r}}function Yi(t,e,n){var r=(t+="")=="transform"?Fr:Be;return e==null?this.styleTween(t,Ri(t,r)).on("end.style."+t,Ce(t)):typeof e=="function"?this.styleTween(t,Pi(t,r,qt(this,"style."+t,e))).each(Xi(this._id,t)):this.styleTween(t,Oi(t,r,e),n).on("end.style."+t,null)}function zi(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Di(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&zi(t,s,n)),r}return o._value=e,o}function Fi(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Di(t,e,n??""))}function Ui(t){return function(){this.textContent=t}}function qi(t){return function(){var e=t(this);this.textContent=e??""}}function Hi(t){return this.tween("text",typeof t=="function"?qi(qt(this,"text",t)):Ui(t==null?"":t+""))}function Gi(t){return function(e){this.textContent=t.call(this,e)}}function Wi(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Gi(i)),e}return r._value=t,r}function Vi(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Wi(t))}function ji(){for(var t=this._name,e=this._id,n=Me(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)if(c=s[u]){var l=H(c,e);Bt(c,t,n,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Z(r,this._parents,t,n)}function Zi(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--i===0&&o()}};n.each(function(){var u=W(this,r),l=u.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),u.on=e}),i===0&&o()})}var Ji=0;function Z(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Me(){return++Ji}var j=pt.prototype;Z.prototype={constructor:Z,select:Mi,selectAll:Ti,selectChild:j.selectChild,selectChildren:j.selectChildren,filter:Ei,merge:Ii,selection:Li,transition:ji,call:j.call,nodes:j.nodes,node:j.node,size:j.size,empty:j.empty,each:j.each,on:Ni,attr:li,attrTween:pi,style:Yi,styleTween:Fi,text:Hi,textTween:Vi,remove:Ci,tween:ei,delay:gi,duration:xi,ease:bi,easeVarying:ki,end:Zi,[Symbol.iterator]:j[Symbol.iterator]};function Ki(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Qi={time:null,delay:0,duration:250,ease:Ki};function to(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function eo(t){var e,n;t instanceof Z?(e=t._id,t=t._name):(e=Me(),(n=Qi).time=Ft(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&Bt(c,t,e,u,s,n||to(c,e));return new Z(r,this._parents,t,e)}pt.prototype.interrupt=Kr;pt.prototype.transition=eo;function lt(t,e,n){this.k=t,this.x=e,this.y=n}lt.prototype={constructor:lt,scale:function(t){return t===1?this:new lt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new lt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};lt.prototype;function no(){br("body").style("background-color","white");const e=document.querySelector(".opening"),n=document.querySelector(".opening_storyline");let r=0;window.addEventListener("wheel",d=>{d.deltaY>0?r=Math.min(r+10,100):r=Math.max(r-10,0),r>=50?(e.style.opacity=0,n.style.transform="translateY(-65vh)",n.style.opacity=1):(e.style.opacity=1,n.style.transform="translateY(0)",n.style.opacity=0)});const i=document.getElementById("home-button");i.addEventListener("click",function(){window.location.reload()}),document.getElementById("about-button").addEventListener("click",function(){document.getElementById("popup").style.display="block",document.getElementById("popup-overlay").style.display="block"}),document.getElementById("close-button").addEventListener("click",function(){document.getElementById("popup").style.display="none",document.getElementById("popup-overlay").style.display="none"}),document.getElementById("grebe-button").addEventListener("click",function(){u("grebe"),i.style.display="block",i.style.opacity=1}),document.getElementById("pelican-button").addEventListener("click",function(){u("pelican"),i.style.display="block",i.style.opacity=1});const o=document.querySelector(".EG_opening"),s=document.querySelector(".grebe-content"),a=document.querySelector(".pelican-content"),c=document.querySelector(".pelican-opening");function u(d){d==="grebe"?(e.style.display="none",n.style.display="none",c.style.display="none",s.style.visibility="visible",s.style.opacity=1):d==="pelican"&&(e.style.display="none",n.style.display="none",o.style.display="none",a.style.opacity=1,a.style.visibility="visible")}const l={};for(let d=2004;d<=2023;d++)for(let v=0;v<12;v++){const h=String(v+1).padStart(2,"0"),m=`${d}-${h}`;l[m]={MX:`/birds/amp_geojsons/monthly_MX_jsons/AMP_MX_${d}-${h}.json`,UT:`/birds/amp_geojsons/monthly_UT_jsons/AMP_UT_${d}-${h}.json`,AZ:`/birds/amp_geojsons/monthly_AZ_jsons/AMP_AZ_${d}-${h}.json`}}const f={};for(let d=2004;d<=2023;d++)for(let v=0;v<12;v++){const h=String(v+1).padStart(2,"0"),m=`${d}-${h}`;f[m]={MX:`/birds/eg_geojsons/monthly_MX_jsons/EG_MX_${d}-${h}.json`,UT:`/birds/eg_geojsons/monthly_UT_jsons/EG_UT_${d}-${h}.json`,AZ:`/birds/eg_geojsons/monthly_AZ_jsons/EG_AZ_${d}-${h}.json`}}const p=document.getElementById("eg-map-canvas"),y=document.getElementById("pelican-map-canvas");function x(d,v){function h(){plot_map(d,v)}h(),new ResizeObserver(()=>{h()}).observe(d)}x(y,"pelican-map"),x(p,"grebe-map");function _(d,v,h,m,E,b,A,N,B,M,L,C){let R;function O(){R=plot_pixels(d,v,h,m,E,b,A,N,B,M,L,C)}return O(),new ResizeObserver(()=>{O()}).observe(d),R}document.getElementById("map_button").addEventListener("click",function(){const d=document.getElementById("pelican-slider"),v=document.getElementById("map_button"),h=document.getElementById("climate_button"),m=document.getElementById("pelican-content2");v.textContent="REPLAY ANIMATION",h.style.display="block",d.style.display="block",m.style.display="block",m.style.transition="opacity 3s ease, transform 1s ease",m.style.opacity=1;let E={animationRunning:!1,timeoutId:null};window.pelicanUpdateController=_(y,l,"pelican-map","pelican-slider","year-label","year-slider","month-label","month-slider","slider-ticks","month-ticks",E,"#info-icon-pelican")}),document.getElementById("visualize-migration").addEventListener("click",function(){const d=document.getElementById("eg-slider"),v=document.getElementById("visualize-migration"),h=document.getElementById("climate_button_eg"),m=document.getElementById("grebe-content4");v.textContent="REPLAY ANIMATION",h.style.display="block",d.style.display="block",m.style.display="block",m.style.transition="opacity 3s ease, transform 1s ease",m.style.opacity=1;let E={animationRunning:!1,timeoutId:null};window.pelicanUpdateController=_(p,f,"grebe-map","eg-slider","eg-year-label","eg-year-slider","eg-month-label","eg-month-slider","eg-slider-ticks","eg-month-ticks",E,"#info-icon-eg")}),document.getElementById("climate_button").addEventListener("click",function(){const d=document.getElementById("pelican_climate_svg"),v=document.getElementById("pelican-content3"),h=document.getElementById("pelican-content4"),m=document.getElementById("gsl_button");d.style.display="block",v.style.display="block",v.style.transition="opacity 3s ease, transform 1s ease",v.style.opacity=1,h.style.display="block",h.style.transition="opacity 3s ease, transform 1s ease",h.style.opacity=1,m.style.display="block",climate_map(d,"year-slider","month-slider")}),document.getElementById("climate_button_eg").addEventListener("click",function(){const d=document.getElementById("eg_climate_svg"),v=document.getElementById("eg-content"),h=document.getElementById("eg-content2"),m=document.getElementById("eg_gsl_button");d.style.display="block",v.style.display="block",v.style.transition="opacity 3s ease, transform 1s ease",v.style.opacity=1,h.style.display="block",h.style.transition="opacity 3s ease, transform 1s ease",h.style.opacity=1,m.style.display="block",climate_map(d,"eg-year-slider","eg-month-slider")}),document.getElementById("gsl_button").addEventListener("click",function(){const d=document.getElementById("gsl-opener");d.style.display="block",d.style.transition="opacity 3s ease, transform 1s ease",d.style.opacity=1;const v=document.getElementById("gsl_elevation_svg");v.style.display="block",plot_gsl_elevation(v,"year-slider","month-slider");const h=document.getElementById("gsl-content1");h.style.display="block",h.style.transition="opacity 3s ease, transform 1s ease",h.style.opacity=1;const m=document.getElementById("gsl_birds_plot_svg");m.style.display="block",plot_gsl_birds(m,"birds/amp_geojsons/filtered_AMP_UT_Year_Avgs.json");const E=document.getElementById("gsl-content2");E.style.display="block",E.style.transition="opacity 3s ease, transform 1s ease",E.style.opacity=1;const b=document.getElementById("comparison_plot_1_svg");b.style.display="block",plot_gsl_comparisons_fixed_years("birds/amp_geojsons/filtered_AMP_UT_Year_Avgs.json","#comparison_plot_1_svg","2009","2011");const A=document.getElementById("comparison_plot1");A.style.display="block",A.style.transition="opacity 3s ease, transform 1s ease",A.style.opacity=1;const N=document.getElementById("comparison_plot_2_svg");N.style.display="block",plot_gsl_comparisons_fixed_years("birds/amp_geojsons/filtered_AMP_UT_Year_Avgs.json","#comparison_plot_2_svg","2010","2011");const B=document.getElementById("comparison_plot2");B.style.display="block",B.style.transition="opacity 3s ease, transform 1s ease",B.style.opacity=1;const M=document.getElementById("comparison_plot_3_svg");M.style.display="block",plot_gsl_comparisons_fixed_years("birds/amp_geojsons/filtered_AMP_UT_Year_Avgs.json","#comparison_plot_3_svg","2015","2023");const L=document.getElementById("comparison_plot3");L.style.display="block",L.style.transition="opacity 3s ease, transform 1s ease",L.style.opacity=1;const C=document.getElementById("gsl_comparison_plots_svg");C.style.display="block",plot_gsl_comparisons("birds/amp_geojsons/filtered_AMP_UT_Year_Avgs.json","year1-dropdown","year2-dropdown","#gsl_comparison_plots_svg");const R=document.getElementById("dropdown-container");R.style.display="block";const O=document.getElementById("story_end");O.style.display="block",O.style.transition="opacity 3s ease, transform 1s ease",O.style.opacity=1;const z=document.getElementById("switch-story-button");z.style.display="block",z.style.opacity=1,z.addEventListener("click",function(){window.location.reload()})}),document.getElementById("eg_gsl_button").addEventListener("click",function(){const d=document.getElementById("eg_gsl_elevation_svg");d.style.display="block",plot_gsl_elevation(d,"eg-year-slider","eg-month-slider");const v=document.getElementById("eg-gsl-content1");v.style.display="block",v.style.transition="opacity 3s ease, transform 1s ease",v.style.opacity=1;const h=document.getElementById("eg_gsl_birds_plot_svg");h.style.display="block",plot_gsl_birds(h,"birds/eg_geojsons/filtered_EG_UT_Year_Avgs.json");const m=document.getElementById("eg-gsl-content2");m.style.display="block",m.style.transition="opacity 3s ease, transform 1s ease",m.style.opacity=1;const E=document.getElementById("eg_comparison_plot_1_svg");E.style.display="block",plot_gsl_comparisons_fixed_years("birds/eg_geojsons/filtered_EG_UT_Year_Avgs.json","#eg_comparison_plot_1_svg","2009","2011");const b=document.getElementById("eg_comparison_plot2");b.style.display="block",b.style.transition="opacity 3s ease, transform 1s ease",b.style.opacity=1;const A=document.getElementById("eg_comparison_plot_2_svg");A.style.display="block",plot_gsl_comparisons_fixed_years("birds/eg_geojsons/filtered_EG_UT_Year_Avgs.json","#eg_comparison_plot_2_svg","2011","2015");const N=document.getElementById("eg_comparison_plot1");N.style.display="block",N.style.transition="opacity 3s ease, transform 1s ease",N.style.opacity=1;const B=document.getElementById("eg_gsl_comparison_plots_svg");B.style.display="block",plot_gsl_comparisons("birds/eg_geojsons/filtered_EG_UT_Year_Avgs.json","eg-year1-dropdown","eg-year2-dropdown","#eg_gsl_comparison_plots_svg");const M=document.getElementById("eg-dropdown-container");M.style.display="block";const L=document.getElementById("eg_story_end");L.style.display="block",L.style.transition="opacity 3s ease, transform 1s ease",L.style.opacity=1;const C=document.getElementById("eg-switch-story-button");C.style.display="block",C.style.opacity=1,C.addEventListener("click",function(){window.location.reload()})})}no();
